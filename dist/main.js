(()=>{"use strict";const e="58a7d0cb585cf13bd0158ec919b07d4cbb162a0f";let t={fetchAirQuality:function(t){fetch(`https://api.waqi.info/feed/${t}/?token=${e}`).then((e=>e.json())).then((e=>this.displayAirQuality(e)))},displayAirQuality:function(e){const{name:t}=e.data.city,{aqi:n}=e.data;document.querySelector(".city").innerText=t,document.querySelector(".pm25").innerText=n,document.querySelector(".airQualityCard").classList.remove("loading")},search:function(){this.fetchAirQuality(document.querySelector(".search-bar").value)}};document.querySelector("button.here").addEventListener("click",(function(){let t,n;navigator.geolocation.getCurrentPosition((c=>{t=c.coords.longitude,n=c.coords.latitude,fetch(`https://api.waqi.info/feed/geo:${n};${t}/?token=${e}`).then((e=>e.json())).then((e=>{const{name:t}=e.data.city,{aqi:n}=e.data;document.querySelector(".city").innerText=t,document.querySelector(".pm25").innerText=n,document.querySelector(".airQualityCard").classList.remove("loading")}))}))})),document.querySelector("button.searchBtn").addEventListener("click",(function(){t.search()})),document.querySelector(".search-bar").addEventListener("keyup",(function(e){"Enter"==e.key&&t.search()}))})();